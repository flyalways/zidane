#include "..\header\define.h"
#include "..\header\UI_CONFIG.h"
#include "..\header\dos\fs_struct.h"

data	bit	gb_RTC_wakeup;
data	bit	gb_IR_wakeup;
data	bit	gb_FindFile;
data	bit	gb_TriggerFileSkip;
data	bit	gb_ReadWriteDataArea;
data	bit	gb_LrcGetTimeOrNot;
data	bit	gb_CountDirFlag;
data	bit	gb_FDBLastFlag;
data	bit	gb_SDHC_Type;
data	bit	gb_MMC_Type;
data	bit	gb_FM_initial_flag;	
data	bit	gb_FM_Mute;//标志FM mute与否-sunzk add 
data	bit	gb_FreqSaveChannel;
data	bit	gb_linein_mute;
data	bit	gb_ReloadProgram;
data	bit	gb_DirNoFile_Flag;
data	bit	gb_LastFolder;
data	bit gb_USB_Plugin;
data	bit	gb_Play_firstPlay;
data	bit	gb_SD_pin;
data	bit	gb_LRCtimerflag;
data	bit	gb_Mp3FileEnd;
data	bit	gb_SDNoFileflag; 
data	bit	gb_SD_Exist;
data	bit	gb_SD_Exist_pre;
data	bit	gb_HostNoFileflag;
data	bit	gb_Host_Exist;
data	bit	gb_Host_Exist_pre;
data	bit	gb_FindFlag;
data	bit	gb_HostInitial;
data	bit	gb_HostError;
data	bit	gb_dtg_in;
data	bit	gb_dtg_out;
data	bit	gb_HostConnect;
data	bit	gb_Dosinitfail;
data	bit	gb_HostShortPack;
data	bit	gb_MediaMask;
data	bit	gb_LrcFileName_Exist;
data	bit	gb_HostInitAgain;
data	bit gb_HostRetry;
data	bit	gb_HostStallFlag;
data	bit	gb_ClearBigIcon;
data	bit	gb_LogDataFlag;
data	bit	gb_SelectVol;
data	bit	gb_DirPlay_Flag;  // 0:PlayAll  1:Play in Dir
data	bit	gb_USB_CMD_IN;
data	bit	gb_USBRST_int_flag;
data	bit	gb_USBRST_ISR_Detected;
data	bit	gb_USB_Connect_Flag;
data	bit	gb_USER_Remove_Flag;
data	bit	gb_XferNormalResponseData_ModeSense;
data	bit	gb_bmCBWFlag;
data	bit	gb_MediaChanged;
data	bit	gb_CardExist;
data	bit	gb_CardDetect;
data	bit	gb_Start_Stop_Flag;
data	bit	gb_CardChangeStage;
data	bit	gb_StallWhichEndPoint;
data	bit	gb_OddTemp;
data	bit	gb_USBHostIsHighSpeed;
data	bit	gb_IRNumberFlag;
data	bit	gb_LCM_InverseDisp;
data	bit	gb_LCM_ForceShow;
data	bit	gb_ADJ;
data	bit	gb_AdjOver;
data	bit	gb_LeapMonth;
data	bit	gb_ShowBattIcon;
data	bit	gb_SetVol;
data	bit	gb_SARStable;
data	bit	gb_ZeroFileSize_Or_FormatError;
data	bit	gb_PlayOtherWAV;
data	bit	gb_ChangeMedia;
data	bit	gb_PlayNewWave;
data	bit	gb_LCMRefreshAll;
data	bit	gb_FMRecord;
data	bit	gb_ShowBatt;
data	bit	gb_FlashRepeatIcon;
data	bit	gb_OrderRecord;
data	bit	gb_OrderRecordConfirm;
data	bit	gb_OrderRecordTrigger;
data	bit	gb_Suspend_OrderRecord;
data	bit	gb_AlarmON;
data	bit	gb_AlarmRepeatON;
data	bit	gb_AlarmTrigger;
data	bit	gb_SuspendKeyRelease;

data	U8	gc_clock_mode;
data	U8	gc_bank_number;
data	U8	gc_Play_FileType;
data	U8	gc_IRCmdStatus;
data	U8	gc_RepPlayMode;
data	U8	gc_HostSectorUnit;
data	U8	gc_CurrentCard;
data	U8	gc_LCM_line;
data	U8	gc_ShowTimer;
data	U8	gc_KeyEvent;
data	U8	gc_Task_Current;
data	U8	gc_Task_Last;
data	U8	gc_USBStage;
data	U8	gc_bCSWStatus;
data	U8	gc_RequestSenseCode;
data	U16	gw_FileSkipNumber;
data	U32	gdw_RTC_Second;

idata	U8	gc_SW_RESET				_at_	0x80;
idata	U8	gc_AlarmDaysSelect		_at_	0x81;
idata	U16	gw_OrderRecDuration		_at_	0x82;
idata	U16	gc_AlarmSoundTimer		_at_	0x84;
idata	U32	gdw_OrderRecordTime		_at_	0x86;
idata	U32	gdw_AlarmTime			_at_	0x8A;
idata	U32	gdw_AlarmTime_Bak;

xdata	U8	gc_FileLongName[256];
xdata	U8	gc_DIRLongName[256];
xdata	U8	gc_COMD_IN[10];
xdata	U8	gc_dCBW_Tag[4];
xdata	U8	gc_SDRespBuff[17];
xdata	U8	gc_SD_CSD[16];
xdata	U8	gc_NUMBER[4];
//xdata	U8	CL6017ControlData[24];
xdata	U8	gc_LrcDisplayBuf[100];
xdata	U8	gc_SPI_ID;   
xdata	U8	gc_XTimeBase;
xdata	U8	gc_key_Pressed;
xdata	U8	gc_key_PrevPressed;
xdata	U8	gc_LogData_Timer;
xdata	U8	gc_IR_Timer;
xdata	U8	gc_UIblock0_index;
xdata	U8	gc_HostUnitNum;
xdata	U8	gc_ErrorCode;
xdata	U8	gc_ShowFMRVolTimer;
xdata	U8	gc_IR_press_timer;
xdata	U8	gc_Host_remove_detect_counter;
xdata	U8	gc_LCMScrollTimer;
xdata	U8	gc_PlayMenu_Timer;
xdata	U8	gc_IRLongKeyCount;
xdata	U8	gc_CL6017Cont;
xdata	U8	gc_ProgRAM_Index;
xdata	U8	gc_SPI_Addr1;
xdata	U8	gc_SPI_Addr2;
xdata	U8	gc_Host_StallCmd_Timeout;
xdata	U8	gc_HostMaxLUN;
xdata	U8	gc_Host_EPIN;
xdata	U8	gc_Host_EPOUT;
xdata	U8	gc_Host_CFGValue;
xdata	U8	gc_HostDeviceAddress;
xdata	U8	gc_HostMaxTransLength;
xdata	U8	gc_Host_ConfigDescLength;
xdata	U8	gc_MenuEndTimer;
xdata	U8	gc_MenuUpDownCnt;
xdata	U8	gc_MenuLevel;
xdata	U8	gc_MenuLevelFirst;
xdata	U8	gc_MenuMaxValue;
xdata	U8	gc_PrevFlag;
xdata	U8	gc_KeyValue;
xdata	U8	gc_LastCard;
xdata	U8	gc_LongKeyCount;
xdata	U8	gc_FM_CH_COUNT; //目前是保存电台中的第几个电台
xdata	U8	gc_FM_CHAmount;//保存电台的总数
xdata	U8	gc_FM_Vol;
xdata	U8	gc_T0IntervalLSB;
xdata	U8	gc_T0IntervalMSB;
xdata	U8	gc_CurrentHZK;
xdata	U8	gc_DOS_SectorPerCluster;
xdata	U8	gc_DOS_FileSystemType;
xdata	U8	gc_LrcCurrentLen;
xdata	U8	gc_bCBWLUN;
xdata	U8	gc_CX_Status_flag;
xdata	U8	gc_USB_ADDR;
xdata	U8	gc_IRNumberCnt;
xdata	U8	gc_ComColumn;
xdata	U8	gc_LCMBacklightTimer;
xdata	U8	gc_LCMBacklightTime;
xdata	U8	gc_MainMenuNum;
xdata	U8	gc_SetupMenuNum;
xdata	U8	gc_MenuTimer;
xdata	U8	gc_Sec;
xdata	U8	gc_Min;
xdata	U8	gc_Hour;
xdata	U8	gc_Day;
xdata	U8	gc_Month;
xdata	U8	gc_Year;
xdata	U8	gc_Week;
xdata	U8	gc_Month_Lunar;
xdata	U8	gc_Day_Lunar;
xdata	U8	gc_Tiangan;
xdata	U8	gc_Dizhi;
xdata	U8	gc_BatteryLevel;
xdata	U8	gc_PinPuCount;
xdata	U8	gc_PinPuTimer;
xdata	U8	gc_PlayMenuNum;
xdata	U8	gc_WAVPlayMenuNum;
xdata	U8	gc_RepeatMenuNum;
xdata	U8	gc_EQMenuNum;
xdata	U8	gc_FMMenuNum;
xdata	U8	gc_PlayMenuItem;	// 1=Play-Menu  2=Repeat-Mode  3=EQ-Option
xdata	U8	gc_WAVMenuItem;
xdata	U8	gc_FMMenuItem;
xdata	U8	gc_RepPlayMode_Bak;
xdata	U8	gc_CBWTag;
xdata	U8	gc_RecordQuality;
xdata	U8	gc_ShowRepeatTimer;
xdata	U8	gc_WaveChannelNumber;
xdata	U8	gc_OrderRecordTimerStep;
xdata	U8	gc_SetAlarmStep;
xdata	U8	gc_AlarmRepeat_DaySelect;
xdata	U8	gc_GetSPIdataSectorNumber;
xdata	U8	gc_Idle2Suspend;

xdata	U16	gw_DirIndex[2];
xdata	U16	gw_FM_CH[50];
xdata	U16	gw_FileIndex[3];
xdata	U16	gw_FileTotalNumber[3];
xdata	U16	gw_HostVID;
xdata	U16	gw_Disp_CurrentSec;
xdata	U16	gw_Random_Timer;
xdata	U16	gw_TotalSec;
xdata	U16	gw_CurrentSec;
xdata	U16	gw_CurrentFolderNum;
xdata	U16 gw_DispFileName_ByteOffset;
xdata	U16	gw_SDDIRFileIndex;
xdata	U16	gw_SDDIRFileTotalNumber; 
xdata	U16	gw_HostDIRFileIndex;
xdata	U16	gw_HostDIRFileTotalNumber;
xdata	U16	gw_SDFolderIndex;
xdata	U16	gw_HostFolderIndex;
xdata	U16	gw_LrcOffset;
xdata	U16	gw_Year_Lunar;
xdata	U16	gw_DirTotalNumber;
xdata 	U16 gw_FM_frequency;
xdata	U16	gw_DOS_CreateDate;
xdata	U16	gw_DOS_CreateTime;
xdata	U16	gw_ClusBufValidSize;
xdata	U16	gw_ClusBufValidPoint;
xdata	U16	gw_MinuteTimer;
xdata	U16	gw_AFrameCnt;
xdata	U16	gw_APointSec;
xdata	U16	gw_AlarmClockTimer;

xdata	U32	gdw_FreeClusterNum[2];
xdata	U32	gdw_TotalFreeClusNumber;
xdata	U32	gdw_ID3_v2_sz;
xdata	U32	gdw_USB_CountDown;
xdata	U32	gdw_HOSTStartSectorRead;
xdata	U32	gdw_DOS_DataAddr;
xdata	U32	gdw_CARD_TotalSizeMB;
xdata	U32	gdw_pollingtime;
xdata	U32	gdw_CurrFlag;
xdata	U32	gdw_StartCluster2;
xdata	U32	gdw_SDDIRFDB_StartCluster;
xdata	U32	gdw_HostDIRFDB_StartCluster;
xdata	U32	gdw_DOS_RootDirClus;
xdata	U32	gdw_DOS_PBRAddr;
xdata	U32	gdw_DOS_FatMaxCluster;
xdata	U32	gdw_DOS_RootDirAddr;
xdata	U32	gdw_DOS_SectorPerFAT;
xdata	U32	gdw_DOS_Fat1Addr;
xdata	U32	gdw_DOS_Fat2Addr;
xdata	U32	gdw_LrcFilePointer;
xdata	U32	gdw_LrcFileSize;
xdata	U32	gdw_LrcFileStartCluster;
xdata	U32	gdw_LrcFileCurrentCluster;
//xdata	U32	gdw_RTC_Second;
xdata	U32	gdw_ClusterBuffer[512];
xdata	U32	gdw_REC_IndexNum;
xdata	U32	gdw_NextRecordNumber;
xdata	U32	gdw_RecSpareTime;
xdata	U32	gdw_LogicSectorAddr;
xdata	U32	gdw_RecRemaintime;
xdata	U32	gdw_FATBufferSectorNum;

data    System_Struct	gs_System_State;
xdata	File_FCB		gs_File_FCB[3];
xdata	DIR_FCB			gs_DIR_FCB[3];
xdata	DSP_GLOBAL		gs_DSP_GLOBAL_RAM;

xdata	unionU16	SDMMC_SDRCA;
xdata	unionU16	Device_Read_SRAM_Index;
xdata	unionU16	Device_Write_SRAM_Index;
xdata	unionU16	Device_Xfer_DataLength;
xdata	unionU16	TotalXferPageNum;
xdata	unionU32	gdw_dCBW_DataXferLength;
xdata	unionU32	SD_Capacity;
xdata	unionU32	LBA;

U8  code EXT_NameA[]={2,'M','P','3','W','M','A'};
U8  code EXT_NameB[]={1,'W','A','V'};
U8  xdata EXT_NameC[10];
U8  *code EXT_Name[]={EXT_NameA,EXT_NameB,EXT_NameC,EXT_NameC,EXT_NameC};
