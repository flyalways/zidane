C51 COMPILER V9.00   SETUPMENU                                                             07/09/2012 21:16:52 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE SETUPMENU
OBJECT MODULE PLACED IN .\obj\SetupMenu.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Menu\SetupMenu.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDIR(..\libsource\
                    -header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\SetupMenu.lst) OBJECT(.\obj\SetupMenu.obj)

line level    source

   1          #include "..\Header\SPDA2K.h"
   2          #include "..\header\variables.h"
   3          
   4          
   5          void SetupMenu(void)
   6          {
   7   1              gc_MenuTimer=6; // Preset Function Menu timer
   8   1              if(gc_SetupMenuNum<4)
   9   1              {
  10   2                      LCM_ShowSetupMenu(0);
  11   2                      LCM_ShowSetupMenu(1);
  12   2                      LCM_ShowSetupMenu(2);
  13   2                      LCM_ShowSetupMenu(3);
  14   2              }
  15   1              else
  16   1              {
  17   2                      LCM_Clear_L2_L7();
  18   2                      LCM_ShowSetupMenu(4);
  19   2              }
  20   1              while(1)
  21   1              {
  22   2                      Key_Detect();
  23   2                      if(gc_KeyEvent!=0)
  24   2                      {
  25   3                              gc_MenuTimer=6; // Reset Function Menu timer
  26   3                              if(gc_KeyEvent==3)      // Next
  27   3                              {
  28   4                                      if(gc_SetupMenuNum==3)
  29   4                                      {
  30   5                                              gc_SetupMenuNum=4;
  31   5                                              LCM_Clear_L2_L7();
  32   5                                              LCM_ShowSetupMenu(4);
  33   5                                      }
  34   4                                      else if(gc_SetupMenuNum==4)
  35   4                                      {
  36   5                                              gc_SetupMenuNum=0;
  37   5                                              LCM_ShowSetupMenu(0);
  38   5                                              LCM_ShowSetupMenu(1);
  39   5                                              LCM_ShowSetupMenu(2);
  40   5                                              LCM_ShowSetupMenu(3);
  41   5                                      }
  42   4                                      else
  43   4                                      {
  44   5                                              gc_SetupMenuNum++;
  45   5                                              LCM_ShowSetupMenu(gc_SetupMenuNum-1);
  46   5                                              LCM_ShowSetupMenu(gc_SetupMenuNum);
  47   5                                      }
  48   4                              }
  49   3                              else if(gc_KeyEvent==4) // Prev
  50   3                              {
  51   4                                      if(gc_SetupMenuNum==0)
  52   4                                      {
  53   5                                              gc_SetupMenuNum=4;
  54   5                                              LCM_Clear_L2_L7();
C51 COMPILER V9.00   SETUPMENU                                                             07/09/2012 21:16:52 PAGE 2   

  55   5                                              LCM_ShowSetupMenu(4);
  56   5                                      }
  57   4                                      else if(gc_SetupMenuNum==4)
  58   4                                      {
  59   5                                              gc_SetupMenuNum=3;
  60   5                                              LCM_ShowSetupMenu(0);
  61   5                                              LCM_ShowSetupMenu(1);
  62   5                                              LCM_ShowSetupMenu(2);
  63   5                                              LCM_ShowSetupMenu(3);
  64   5                                      }
  65   4                                      else
  66   4                                      {
  67   5                                              gc_SetupMenuNum--;
  68   5                                              LCM_ShowSetupMenu(gc_SetupMenuNum+1);
  69   5                                              LCM_ShowSetupMenu(gc_SetupMenuNum);
  70   5                                      }
  71   4                              }
  72   3                              else if(gc_KeyEvent==6)
  73   3                              {
  74   4                                      switch(gc_SetupMenuNum)
  75   4                                      {
  76   5                                              case 0:
  77   5                                                      gc_Task_Current=C_Task_SetClock;
  78   5                                              break;
  79   5      
  80   5                                              case 1:
  81   5                                                      gc_Task_Current=C_Task_SetBacklight;
  82   5                                              break;
  83   5      
  84   5                                              case 2:
  85   5                                                      gc_Task_Current=C_Task_SetLanguage;
  86   5                                              break;
  87   5      
  88   5                                              case 3:
  89   5                                                      gc_Task_Current=C_Task_SetAlarm;
  90   5                                              break;
  91   5      
  92   5                                              default:
  93   5                                                      gc_Task_Current=C_Task_Idle;
  94   5                                              break;
  95   5                                      }
  96   4                                      return;
  97   4                              }
  98   3                      }
  99   2      
 100   2                      if(gb_AlarmTrigger==1)
 101   2                      {
 102   3                              if(CheckAlarmSetting()==0)      // Match Alarm Clock Setting
 103   3                              {
 104   4                                      gc_Task_Last=C_Task_Setup;
 105   4                                      gc_Task_Current=C_Task_AlarmON;
 106   4                              }
 107   3                      }
 108   2      
 109   2                      if(gc_MenuTimer==0)
 110   2                      {
 111   3                              gc_Task_Current=C_Task_Idle;
 112   3                              return;
 113   3                      }
 114   2              }
 115   1      }
 116          
C51 COMPILER V9.00   SETUPMENU                                                             07/09/2012 21:16:52 PAGE 3   

 117          
 118          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    226    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
