C51 COMPILER V9.00   SETLANGUAGE                                                           07/09/2012 21:16:54 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE SETLANGUAGE
OBJECT MODULE PLACED IN .\obj\SetLanguage.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Setup\SetLanguage.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDIR(..\libsour
                    -ce\header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\SetLanguage.lst) OBJECT(.\obj\SetLanguage.obj)

line level    source

   1          #include "..\Header\SPDA2K.h"
   2          #include "..\header\variables.h"
   3          
   4          #ifdef SPI_1M
   5          void SetLanguage(void)
   6          {
   7   1              data    U8      tc_Language;
   8   1              //data  U8      i;
   9   1      
  10   1              tc_Language=gc_CurrentHZK;
  11   1              LCM_Clear_L0_L7();
  12   1              if(tc_Language==0)
  13   1              {       
  14   2                      gc_CurrentHZK=0;
  15   2                      gb_LCM_InverseDisp=1;    
  16   2                      LCM_ShowCountryMenu();
  17   2                      gc_CurrentHZK++;
  18   2                      gb_LCM_InverseDisp=0;
  19   2                      LCM_ShowCountryMenu();  
  20   2              }
  21   1              else
  22   1              {  
  23   2                      gc_CurrentHZK=0;
  24   2                      gb_LCM_InverseDisp=0;    
  25   2                      LCM_ShowCountryMenu();
  26   2                      gc_CurrentHZK++;
  27   2                      gb_LCM_InverseDisp=1;
  28   2                      LCM_ShowCountryMenu();  
  29   2              }
  30   1              
  31   1      
  32   1              gc_CurrentHZK=tc_Language;
  33   1              gc_MenuTimer=6;
  34   1              while(1)
  35   1              {
  36   2                      Key_Detect();
  37   2                      if(gc_KeyEvent!=0)
  38   2                      {
  39   3                              gc_MenuTimer=6;
  40   3                              if(gc_KeyEvent==3 || gc_KeyEvent==4)    //next/ Prev
  41   3                              {  
  42   4                                      gb_LCM_InverseDisp=0;
  43   4                                      LCM_ShowCountryMenu();
  44   4                                      if(gc_CurrentHZK==0x00)
  45   4                                      {
  46   5                                              gc_CurrentHZK=1;
  47   5                                      }else
  48   4                                      {       
  49   5                                              gc_CurrentHZK=0;
  50   5                                      }
  51   4                                      //gc_CurrentHZK--;
  52   4                                      gb_LCM_InverseDisp=1;
  53   4                                      LCM_ShowCountryMenu();
  54   4                              }
C51 COMPILER V9.00   SETLANGUAGE                                                           07/09/2012 21:16:54 PAGE 2   

  55   3                              else if(gc_KeyEvent==6) // M
  56   3                              {
  57   4                                      USER_LogFile_ReadWrite(1);
  58   4                                      gb_LCM_InverseDisp=0;
  59   4                                      gc_Task_Current=C_Task_Setup;
  60   4                                      break;
  61   4                              }
  62   3                              else if(gc_KeyEvent==0x16)      // L-M(Abort)
  63   3                              {
  64   4                                      gc_MenuTimer=0;
  65   4                              }
  66   3                      }
  67   2      
  68   2                      if(gc_MenuTimer==0)
  69   2                      {
  70   3                              gc_Task_Current=C_Task_Idle;
  71   3                              break;
  72   3                      }
  73   2              }
  74   1      
  75   1      }
  76          
  77          #else
              void SetLanguage(void)
              {
                      data    U8      tc_Language;
                      data    U8      i;
              
                      tc_Language=gc_CurrentHZK;
                      gc_CurrentHZK&=~0x03;
                      for(i=0;i<4;i++)
                      {
                              gb_LCM_InverseDisp=0;
                              if(gc_CurrentHZK==tc_Language)
                              {
                                      gb_LCM_InverseDisp=1;
                              }
                              LCM_ShowCountryMenu();
                              gc_CurrentHZK++;
                      }
                      gc_CurrentHZK=tc_Language;
                      gc_MenuTimer=6;
                      while(1)
                      {
                              Key_Detect();
                              if(gc_KeyEvent!=0)
                              {
                                      gc_MenuTimer=6;
                                      if(gc_KeyEvent==3)      // Next
                                      {
                                              if(((gc_CurrentHZK&0x03)==0x03)||(gc_CurrentHZK==16))
                                              {
                                                      if(gc_CurrentHZK==16)
                                                      {
                                                              gc_CurrentHZK=0;
                                                      }
                                                      else
                                                      {
                                                              gc_CurrentHZK++;
                                                      }
                                                      tc_Language=gc_CurrentHZK;
                                                      gc_CurrentHZK&=~0x03;
C51 COMPILER V9.00   SETLANGUAGE                                                           07/09/2012 21:16:54 PAGE 3   

                                                      for(i=0;i<4;i++)
                                                      {
                                                              gb_LCM_InverseDisp=0;
                                                              if(gc_CurrentHZK==tc_Language)
                                                              {
                                                                      gb_LCM_InverseDisp=1;
                                                              }
                                                              LCM_ShowCountryMenu();
                                                              gc_CurrentHZK++;
                                                      }
                                                      gc_CurrentHZK=tc_Language;
                                              }
                                              else
                                              {
                                                      gb_LCM_InverseDisp=0;
                                                      LCM_ShowCountryMenu();
                                                      gc_CurrentHZK++;
                                                      gb_LCM_InverseDisp=1;
                                                      LCM_ShowCountryMenu();
                                              }
                                      }
                                      else if(gc_KeyEvent==4) // Prev
                                      {
                                              if((gc_CurrentHZK&0x03)==0x00)
                                              {
                                                      gc_CurrentHZK--;
                                                      if(gc_CurrentHZK==0xFF)
                                                      {
                                                              gc_CurrentHZK=16;
                                                      }
                                                      tc_Language=gc_CurrentHZK;
                                                      gc_CurrentHZK&=~0x03;
                                                      for(i=0;i<4;i++)
                                                      {
                                                              gb_LCM_InverseDisp=0;
                                                              if(gc_CurrentHZK==tc_Language)
                                                              {
                                                                      gb_LCM_InverseDisp=1;
                                                              }
                                                              LCM_ShowCountryMenu();
                                                              gc_CurrentHZK++;
                                                      }
                                                      gc_CurrentHZK=tc_Language;
                                              }
                                              else
                                              {
                                                      gb_LCM_InverseDisp=0;
                                                      LCM_ShowCountryMenu();
                                                      gc_CurrentHZK--;
                                                      gb_LCM_InverseDisp=1;
                                                      LCM_ShowCountryMenu();
                                              }
                                      }
                                      else if(gc_KeyEvent==6) // M
                                      {
                                              USER_LogFile_ReadWrite(1);
                                              gb_LCM_InverseDisp=0;
                                              gc_Task_Current=C_Task_Setup;
                                              break;
                                      }
                                      else if(gc_KeyEvent==0x16)      // L-M(Abort)
                                      {
C51 COMPILER V9.00   SETLANGUAGE                                                           07/09/2012 21:16:54 PAGE 4   

                                              gc_MenuTimer=0;
                                      }
                              }
              
                              if(gc_MenuTimer==0)
                              {
                                      gc_Task_Current=C_Task_Idle;
                                      break;
                              }
                      }
              
              }
              
              #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    149    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
