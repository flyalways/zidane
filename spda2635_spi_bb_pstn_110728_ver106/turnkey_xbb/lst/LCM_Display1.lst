C51 COMPILER V9.00   LCM_DISPLAY1                                                          07/09/2012 21:16:49 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE LCM_DISPLAY1
OBJECT MODULE PLACED IN .\obj\LCM_Display1.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE LCM\LCM_Display1.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDIR(..\libsourc
                    -e\header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\LCM_Display1.lst) OBJECT(.\obj\LCM_Display1.obj)

line level    source

   1          #include "..\Header\SPDA2K.h"
   2          #include "..\header\UI_config.h"
   3          #include "..\header\variables.h"
   4          #include "LCM_BMP.h"
   5          
   6          
   7          void LCM_ShowCompanyLogo(void)
   8          {
   9   1          xdata       U16     i;
  10   1              data    U8      j;
  11   1              xdata   U16     tw_Addr;
  12   1      
  13   1              LCM_Clear_L0_L7();
  14   1              tw_Addr=CompanyLogo;
  15   1              LCM_ReadSPIBMPdata(tw_Addr,3072);
  16   1              for(j=0;j<4;j++)
  17   1              {
  18   2                      LCM_set_address(j+2,16);
  19   2      
  20   2                      for(i=0;i<96;i++)
  21   2                      {
  22   3                              LCM_write_data(gc_DirLCMtempBuf[((U16)j*96)+i]);
  23   3                      }
  24   2              }
  25   1              USER_Delay(1000);
  26   1      }
  27          
  28          
  29          void LCM_ShowSDHostIcon(void)
  30          {
  31   1              data    U8      i;
  32   1              data    U16     j;
  33   1              xdata   U16     tw_Addr;
  34   1              
  35   1              switch(gc_CurrentCard)
  36   1              {
  37   2                      case 0x02:    //SD
  38   2                              tw_Addr=SD_Icon12x16;
  39   2                              LCM_ReadSPIBMPdata(tw_Addr,24);
  40   2                      break;
  41   2      
  42   2                      case 0x05:   //Host
  43   2                              tw_Addr=USB_Icon12x16;
  44   2                              LCM_ReadSPIBMPdata(tw_Addr,24);
  45   2                      break;
  46   2      
  47   2                      default:
  48   2                              for(j=0;j<24;j++)
  49   2                              {
  50   3                                      gc_DirLCMtempBuf[j]=0;
  51   3                              }
  52   2                      break;
  53   2              }
  54   1              
C51 COMPILER V9.00   LCM_DISPLAY1                                                          07/09/2012 21:16:49 PAGE 2   

  55   1              for(i=0;i<2;i++)
  56   1              {
  57   2                      LCM_set_address(i,98);
  58   2                      for(j=0;j<12;j++)
  59   2                      {
  60   3                              LCM_write_data(gc_DirLCMtempBuf[j+i*12]);
  61   3                      }
  62   2              }
  63   1      }
  64          
  65          
  66          void LCM_ShowFMIcon(void)
  67          {
  68   1              data    U8      i;
  69   1              xdata   U16     j;
  70   1              xdata   U16     tw_Addr;
  71   1      
  72   1              tw_Addr=FM_Icon24x16;
  73   1              LCM_ReadSPIBMPdata(tw_Addr,48);
  74   1              for(i=0;i<2;i++)
  75   1              {
  76   2                      LCM_set_address(i,0);
  77   2                      for(j=0;j<24;j++)
  78   2                      {
  79   3                              LCM_write_data(gc_DirLCMtempBuf[j+i*24]);
  80   3                      }
  81   2              }
  82   1      }
  83          
  84          
  85          void LCM_ShowWait()
  86          {
  87   1              gc_LCM_line=4;
  88   1              LCM_ShowChar8x16(35,26);        // W
  89   1              LCM_ShowChar8x16(39,38);        // a
  90   1              LCM_ShowChar8x16(47,50);        // i
  91   1              LCM_ShowChar8x16(58,62);        // t
  92   1              LCM_ShowChar8x16(65,74);        // .
  93   1              LCM_ShowChar8x16(65,86);        // .
  94   1              LCM_ShowChar8x16(65,98);        // .
  95   1      }
  96          
  97          
  98          void LCM_Show_NoFile(void)
  99          {
 100   1              gc_LCM_line=4;
 101   1              LCM_ShowChar8x16(26,26);        // N
 102   1              LCM_ShowChar8x16(53,38);        // o
 103   1              LCM_ShowChar8x16(12,50);        // 
 104   1              LCM_ShowChar8x16(18,62);        // F
 105   1              LCM_ShowChar8x16(47,74);        // i
 106   1              LCM_ShowChar8x16(50,86);        // l
 107   1              LCM_ShowChar8x16(43,98);        // e
 108   1              gc_LCM_line=0;
 109   1      }
 110          
 111          
 112          void RefreshAllDisplay(void)
 113          {
 114   1              LCM_Clear_L0_L7();
 115   1              LCM_ShowRepeatIcon();
 116   1              if(gs_DSP_GLOBAL_RAM.s_DSP_RAM.sc_RepeatMode==REPEAT_AB_NULL)
C51 COMPILER V9.00   LCM_DISPLAY1                                                          07/09/2012 21:16:49 PAGE 3   

 117   1              {
 118   2                      LCM_ShowSongNum();
 119   2                      LCM_ShowSongTotalNum();
 120   2              }
 121   1              else
 122   1              {
 123   2                      gb_FlashRepeatIcon=0;
 124   2                      gc_ShowRepeatTimer=10;
 125   2              }
 126   1              LCM_ShowEQIcon();
 127   1              LCM_ShowMusicType();
 128   1              LCM_ShowBitRate();
 129   1              LCM_ShowSDHostIcon();
 130   1              LCM_ShowBattIcon();
 131   1              LCM_ShowPlayModeIcon();
 132   1              LCM_ShowSongTime();
 133   1              LCM_ShowPlayTime(0);
 134   1              LCM_ShowPinPu();
 135   1              LCM_ShowPlayModeIcon();
 136   1              LCM_ShowPlayPauseIcon();
 137   1      }
 138          
 139          
 140          void LCM_ShowBacklightTime(void)
 141          {
 142   1              gc_LCM_line=3;
 143   1              LCM_ShowChar12x32(gc_LCMBacklightTime/10,52);
 144   1              LCM_ShowChar12x32(gc_LCMBacklightTime%10,64);
 145   1      }
 146          
 147          void LCM_ShowFMAllIcon(void)
 148          {
 149   1              gs_System_State.w_SampleRate=8<<gc_RecordQuality;
 150   1              LCM_Clear_L0_L7();
 151   1              LCM_ShowFMIcon();
 152   1              LCM_ShowBattIcon();
 153   1              LCM_ShowSDHostIcon();
 154   1              LCM_ShowMusicType();
 155   1              LCM_ShowBitRate();
 156   1              LCM_ShowFMOrderRecordIcon();
 157   1              LCM_ShowAlarmIcon();
 158   1      }
 159          
 160          void LCM_ShowFMOrderRecordIcon(void)    // Order Record Icon & Time
 161          {
 162   1              data    U8      i;
 163   1              data    U16     j;
 164   1              xdata   U16     tw_Addr;
 165   1      
 166   1              if(gb_OrderRecordConfirm==1||gb_OrderRecordTrigger==1)
 167   1              {
 168   2                      gc_LCM_line=6;
 169   2                      LCM_ShowChar8x16(10,34);                                                                                // :
 170   2                      LCM_ShowChar8x16(gdw_OrderRecordTime/36000,16);                 // 10H
 171   2                      LCM_ShowChar8x16((gdw_OrderRecordTime/3600)%10,24);             // 1H
 172   2                      LCM_ShowChar8x16((((gdw_OrderRecordTime/60)%60)/10),38);        // 10M
 173   2                      LCM_ShowChar8x16((((gdw_OrderRecordTime/60)%60)%10),46);        // 1M
 174   2                      tw_Addr=OrderRec_Icon11x16;
 175   2                      LCM_ReadSPIBMPdata(tw_Addr,22);
 176   2              }
 177   1              else
 178   1              {
C51 COMPILER V9.00   LCM_DISPLAY1                                                          07/09/2012 21:16:49 PAGE 4   

 179   2                      return;
 180   2              }
 181   1              
 182   1              for(i=0;i<2;i++)
 183   1              {
 184   2                      LCM_set_address(i+6,3);
 185   2                      for(j=0;j<11;j++)
 186   2                      {
 187   3                              LCM_write_data(gc_DirLCMtempBuf[j+i*11]);
 188   3                      }
 189   2              }
 190   1      }
 191          
 192          void LCM_ShowAlarmIcon(void)    // Alarm Icon & Time
 193          {
 194   1              data    U8      i;
 195   1              data    U16     j;
 196   1              xdata   U16     tw_Addr;
 197   1      
 198   1              if(gb_AlarmON==1)
 199   1              {
 200   2                      gc_LCM_line=6;
 201   2                      LCM_ShowChar8x16(10,100);                                                                               // :
 202   2                      LCM_ShowChar8x16(gdw_AlarmTime/36000,82);                       // 10H
 203   2                      LCM_ShowChar8x16((gdw_AlarmTime/3600)%10,90);           // 1H
 204   2                      LCM_ShowChar8x16((((gdw_AlarmTime/60)%60)/10),104);     // 10M
 205   2                      LCM_ShowChar8x16((((gdw_AlarmTime/60)%60)%10),112);     // 1M
 206   2                      tw_Addr=AlarmIcon16x16;
 207   2                      LCM_ReadSPIBMPdata(tw_Addr,32);
 208   2              }
 209   1              else
 210   1              {
 211   2                      return;
 212   2              }
 213   1              
 214   1              for(i=0;i<2;i++)
 215   1              {
 216   2                      LCM_set_address(i+6,64);
 217   2                      for(j=0;j<16;j++)
 218   2                      {
 219   3                              LCM_write_data(gc_DirLCMtempBuf[j+i*16]);
 220   3                      }
 221   2              }
 222   1      }
 223          
 224          void LCM_Show_LineIn(void)
 225          {
 226   1              LCM_Clear_L0_L7();      
 227   1      
 228   1              gc_LCM_line=4;
 229   1              LCM_ShowChar8x16(24,26);        // L
 230   1              LCM_ShowChar8x16(47,38);        // i
 231   1              LCM_ShowChar8x16(52,50);        // n
 232   1              LCM_ShowChar8x16(43,62);        // e
 233   1              LCM_ShowChar8x16(12,74);        //  
 234   1              LCM_ShowChar8x16(21,86);        // I
 235   1              LCM_ShowChar8x16(52,98);        // n
 236   1              gc_LCM_line=0;
 237   1      }
 238          


C51 COMPILER V9.00   LCM_DISPLAY1                                                          07/09/2012 21:16:49 PAGE 5   

MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1159    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       7
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      11
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
