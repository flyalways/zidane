C51 COMPILER V9.00   MENU_HZK1                                                             07/10/2012 15:51:59 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MENU_HZK1
OBJECT MODULE PLACED IN .\obj\Menu_hzk1.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Menu_hzk\Menu_hzk1.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDIR(..\libsou
                    -rce\header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\Menu_hzk1.lst) OBJECT(.\obj\Menu_hzk1.obj)

line level    source

   1          #include "..\Header\SPDA2K.h"
   2          #include "..\LCM\model_define.h"//(JC)H1124
   3          #include "..\header\variables.h"
   4          
   5          #include "..\LCM\TFT_config.h"          // TFT
   6          #include "..\Menu_hzk\MenuDisp_string.c"
   7          #include  "..\Menu_hzk\String_HZK1.c"
   8          
   9          //------------------¸ÃbankÖÐ·ÅÁËÒôÀÖ²Ëµ¥¼°ÒôÁ¿¡£FMÑ¡Ôñ¡¢Ñ¡È¡½çÃæµÄ×Ö·û´®----
  10          //-----------------ÏÔÊ¾×Ö·û´®µÄº¯ÊýÇë·ÅÔÚ¸ÃÎÄ¼þÖÐ£¬¹©ÆäËû²¿·Öµ÷ÓÃ
  11          
  12          #define PlayMenuItemNums 5
  13          #define EQMenuItemNums 6
  14          #define REPMenuItemNums 3
  15          #define VolORFMTitleNums 3
  16          //-----------------------------------------------------------------------------
  17          //
  18          //tc_MenuType:gc_TuneVolFreqStatus=1:vol adj 2:FM adj 3:play menu 4:eq 5:rep
  19          //
  20          //----------------------------------------------------------------------------
  21          void Menu_Disp_Item_Play(U8 tc_MenuType,U8 tc_Select,U8 tc_RefreshType)
  22          {
  23   1              U8 tc_i;
  24   1              U8 tc_ItemNums;
  25   1              U8 tc_language;
  26   1              U16 tw_icon_ID,tw_icon_x,tw_icon_y,tw_icon_Hsize,tw_icon_Vsize;  //Ñ¡ÖÐÏîÇ°µÄÐ¡Í¼±êµÄÏÔÊ¾Éè¶¨
  27   1              U16 tw_color_select,tw_color_BG_select,tw_color_Noselect,tw_color_BG_Noselect;//Ñ¡ÖÐ×ÖÌåµÄÑÕÉ«ºÍÎ´Ñ¡ÖÐµÄÑ
             -ÕÉ«
  28   1              U8 tc_High;//Á½¸öÏîÄ¿µÄ¼ä¸ô
  29   1              U16 tw_word_x;//²Ëµ¥×ÖÆðÊ¼µÄx
  30   1          U8 *(*p);     //Ö¸ÕëÊý×é
  31   1              U8 tc_flag_dispItem=0;
  32   1      
  33   1              tc_language= gc_MenuHZK;
  34   1                  
  35   1      //      dbprintf("\n#1=%bx #2=%bx #3=%bx\n",tc_MenuType,tc_Select,tc_RefreshType);
  36   1      
  37   1              if(tc_RefreshType==0xff)
  38   1              {
  39   2                      return;
  40   2              }
  41   1      
  42   1              switch(tc_MenuType)
  43   1              {
  44   2                      case 1: //Ë¢ÐÂÒôÁ¿ÉèÖÃ±³¾°¼°ÎÄ×Ö
  45   2                              LCM_set_view(TFT_IconDispDir,0,0,TFT_H_Size,TFT_V_Size);
  46   2                              LCD_DisplayIcon(ID_PUBLIC_FULL,OFFSET_VOLSET_BG);        
  47   2      
  48   2                              Menu_Disp_String(Voice_Item_X,Voice_Item_Y,VolORFMTitleTable[0+tc_language*VolORFMTitleNums],Voice_Item
             -_WordColor,Voice_Item_WordColor_BG);
  49   2                              tc_flag_dispItem=1;
  50   2                              break;
  51   2                      case 2://Ë¢ÐÂFMÉèÖÃ±³¾°¼°ÎÄ×Ö
  52   2                              LCM_set_view(TFT_IconDispDir,0,0,TFT_H_Size,TFT_V_Size);
C51 COMPILER V9.00   MENU_HZK1                                                             07/10/2012 15:51:59 PAGE 2   

  53   2                              LCD_DisplayIcon(ID_PUBLIC_FULL,OFFSET_FMSET_BG);         
  54   2                              
  55   2                              Menu_Disp_String(FM_ModeItem_X,FM_ModeItem_Y,VolORFMTitleTable[1+tc_language*VolORFMTitleNums],FM_ModeI
             -tem_WordColor,FM_ModeItem_WordColor_BG);
  56   2                              tc_flag_dispItem=1;
  57   2                              break;
  58   2                      case 3://play menu
  59   2                              tc_ItemNums = PlayMenuItemNums;
  60   2                              p=PlayMenuTable;  
  61   2                              
  62   2                              if(tc_RefreshType == REFRESH_ALL)
  63   2                              {
  64   3                                      LCM_set_view(TFT_IconDispDir,0,0,TFT_H_Size,TFT_V_Size);
  65   3                                      LCD_DisplayIcon(ID_PUBLIC_FULL,OFFSET_MENU_1_BG);        //Ë¢ÐÂ±³¾°
  66   3                              }
  67   2                                      
  68   2                              tw_icon_x = 0;
  69   2                              tw_icon_y = ID_SelectOrNot_1_Y_Pos;
  70   2                              tw_icon_Hsize = SelectOrNot1_H_Size;
  71   2                              tw_icon_Vsize = SelectOrNot1_V_Size;
  72   2                              tw_icon_ID = ID_SelectOrNot_1;
  73   2                              tc_High = 24;
  74   2                              tw_word_x = 20;
  75   2                              tw_color_select = WordColor_MenuItem1_Select;
  76   2                              tw_color_BG_select = WordColor_MenuItem1_BG;
  77   2                              tw_color_Noselect =     WordColor_MenuItem1_NOSelect;
  78   2                              tw_color_BG_Noselect = WordColor_MenuItem1_BG;          
  79   2                              break;
  80   2                      case 4://eq menu
  81   2                      case 5://rep menu 
  82   2                              if(tc_MenuType == 4)
  83   2                              {       
  84   3                                      tc_ItemNums = EQMenuItemNums;
  85   3                                      p=EQMenuTable;    
  86   3                                      if(tc_RefreshType == REFRESH_ALL)
  87   3                                      {
  88   4                                              LCM_set_view(TFT_IconDispDir,0,0,TFT_H_Size,TFT_V_Size);
  89   4                                              LCD_DisplayIcon(ID_PUBLIC_FULL,OFFSET_MENU_2_BG);        //Ë¢ÐÂ±³¾°      
  90   4              
  91   4                                              Menu_Disp_String(2,4,PlayMenuTable[2+tc_language*PlayMenuItemNums],WordColor_MenuItem2_Title,WordColo
             -r_MenuItem2_Title_BG);
  92   4                                      }
  93   3                              }else
  94   2                              {
  95   3                                      tc_ItemNums = REPMenuItemNums;
  96   3                                      p=REPMenuTable;    
  97   3                                      if(tc_RefreshType == REFRESH_ALL)
  98   3                                      {
  99   4                                              LCM_set_view(TFT_IconDispDir,0,0,TFT_H_Size,TFT_V_Size);
 100   4                                              LCD_DisplayIcon(ID_PUBLIC_FULL,OFFSET_MENU_2_BG);        //Ë¢ÐÂ±³¾°      
 101   4              
 102   4                                              Menu_Disp_String(2,4,PlayMenuTable[3+tc_language*PlayMenuItemNums],WordColor_MenuItem2_Title,WordColo
             -r_MenuItem2_Title_BG);
 103   4                                      } 
 104   3                              }
 105   2                              
 106   2                              tw_icon_x = 0;
 107   2                              tw_icon_y = ID_SelectOrNot_2_Y_Pos;
 108   2                              tw_icon_Hsize = SelectOrNot2_H_Size;
 109   2                              tw_icon_Vsize = SelectOrNot2_V_Size;
 110   2                              tw_icon_ID = ID_SelectOrNot_2;
 111   2                              tc_High = ID_SelectOrNot_BaseOffset;//20;
C51 COMPILER V9.00   MENU_HZK1                                                             07/10/2012 15:51:59 PAGE 3   

 112   2                              tw_word_x = 20;
 113   2                              tw_color_select = WordColor_MenuItem2_Select;
 114   2                              tw_color_BG_select = WordColor_MenuItem2_BG;
 115   2                              tw_color_Noselect =     WordColor_MenuItem2_NOSelect;
 116   2                              tw_color_BG_Noselect = WordColor_MenuItem2_BG;          
 117   2                              
 118   2                              break;
 119   2                      default: 
 120   2                              break;
 121   2              }
 122   1              if(tc_flag_dispItem)
 123   1              {  // not disp item 
 124   2                      return;
 125   2              }
 126   1              for(tc_i=0;tc_i<tc_ItemNums;tc_i++)
 127   1              {
 128   2                      if(tc_i == tc_Select)
 129   2                      {
 130   3                              LCM_set_view(TFT_IconDispDir,tw_icon_x,tw_icon_y+tc_High*tc_i,tw_icon_Hsize,tw_icon_Vsize);//ÏÔÊ¾Ñ¡ÖÐµÄ
             -Ð¡Í¼±ê
 131   3                  LCD_DisplayIcon(tw_icon_ID,Select_Offset);
 132   3              
 133   3                  Menu_Disp_String(tw_word_x,tw_icon_y+tc_High*tc_i,p[tc_i+tc_language*tc_ItemNums],tw_color_sel
             -ect,tw_color_BG_select);              
 134   3                      }else
 135   2                      {
 136   3                              if(tc_RefreshType == REFRESH_ALL)
 137   3                  {  //È«²¿ÏîÄ¿¶¼Ë¢ÐÂ
 138   4                      LCM_set_view(TFT_IconDispDir,tw_icon_x,tw_icon_y+tc_High*tc_i,tw_icon_Hsize,tw_icon_Vsize)
             -; //ÏÔÊ¾Î´Ñ¡ÖÐµÄÐ¡Í¼±ê
 139   4                      LCD_DisplayIcon(tw_icon_ID,SelectNot_Offset);   
 140   4               
 141   4                      Menu_Disp_String(tw_word_x,tw_icon_y+tc_High*tc_i,p[tc_i+tc_language*tc_ItemNums],tw_color
             -_Noselect,tw_color_BG_Noselect);  
 142   4                  }else if(tc_RefreshType == REFRESH_NEXT)
 143   3                  {  //Ö»Ë¢ÐÂµ±Ç°Ñ¡ÖÐÏîÄ¿¼°µ±Ç°ÏîÄ¿µÄÏÂÒ»Ïî  
 144   4                      if((tc_i+1 == tc_Select) || (tc_Select == 0))
 145   4                      {
 146   5                          LCM_set_view(TFT_IconDispDir,tw_icon_x,tw_icon_y+tc_High*tc_i,tw_icon_Hsize,tw_icon_Vs
             -ize);   //ÏÔÊ¾Î´Ñ¡ÖÐµÄÐ¡Í¼±ê
 147   5                          LCD_DisplayIcon(tw_icon_ID,SelectNot_Offset);   
 148   5               
 149   5                          Menu_Disp_String(tw_word_x,tw_icon_y+tc_High*tc_i,p[tc_i+tc_language*tc_ItemNums],tw_c
             -olor_Noselect,tw_color_BG_Noselect);   
 150   5                       }
 151   4                  }else if(tc_RefreshType == REFRESH_PREV)
 152   3                  {  //Ö»Ë¢ÐÂµ±Ç°Ñ¡ÖÐÏîÄ¿¼°µ±Ç°ÏîÄ¿µÄÉÏÒ»Ïî
 153   4                      if((tc_i-1 == tc_Select) || (tc_Select == tc_ItemNums-1))
 154   4                      {
 155   5                          LCM_set_view(TFT_IconDispDir,tw_icon_x,tw_icon_y+tc_High*tc_i,tw_icon_Hsize,tw_icon_Vs
             -ize);   //ÏÔÊ¾Î´Ñ¡ÖÐµÄÐ¡Í¼±ê
 156   5                          LCD_DisplayIcon(tw_icon_ID,SelectNot_Offset);   
 157   5                          
 158   5                          Menu_Disp_String(tw_word_x,tw_icon_y+tc_High*tc_i,p[tc_i+tc_language*tc_ItemNums],tw_c
             -olor_Noselect,tw_color_BG_Noselect);  
 159   5                      }
 160   4                      
 161   4                  } 
 162   3                      }
 163   2              }
 164   1              gc_refresh_type=0xff;   
 165   1                      
C51 COMPILER V9.00   MENU_HZK1                                                             07/10/2012 15:51:59 PAGE 4   

 166   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1854    ----
   CONSTANT SIZE    =   5033    ----
   XDATA SIZE       =   ----     108
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
