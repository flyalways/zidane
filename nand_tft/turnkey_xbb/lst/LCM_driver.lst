C51 COMPILER V9.00   LCM_DRIVER                                                            07/10/2012 15:51:58 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE LCM_DRIVER
OBJECT MODULE PLACED IN .\obj\LCM_driver.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE LCM\LCM_driver.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDIR(..\libsource\
                    -header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\LCM_driver.lst) OBJECT(.\obj\LCM_driver.obj)

line level    source

   1          #include "SPDA2K.h"
   2          #include "dos\fs_struct.h"
   3          #include "Memalloc.h"
   4          #include "..\LCM\model_define.h"
   5          #include "..\LCM\LCM.h"
   6          #include "..\LCM\LCM_func.h"
   7          #include "..\LCM\TFT_config.h"          // TFT 20090629
   8          
   9          extern  xdata U8        gc_strobe_bak;
  10          extern xdata U8         gc_0xB400_bak;
  11          xdata U8        gc_LCMStobe=0x64; 
  12          
  13          void LCD_Write_Command(U8 tc_Data)
  14          {
  15   1              LCM_A0_LO; 
  16   1              LCM_CS_LO; 
  17   1              XBYTE[0xB420] = tc_Data; 
  18   1              LCM_CS_HI; 
  19   1      }
  20          
  21          void LCD_Write_OneData(U8 tc_Data)  
  22          {
  23   1              LCM_A0_HI;
  24   1              LCM_CS_LO; 
  25   1              XBYTE[0xB420] = tc_Data; 
  26   1              LCM_CS_HI;
  27   1      }
  28          
  29          void LCD_Write_OneWord(U16 w)
  30          {
  31   1              LCM_A0_HI;
  32   1              LCM_CS_LO; 
  33   1              XBYTE[0xB420] = WORD_HI_BYTE(w); 
  34   1              XBYTE[0xB420] = WORD_LO_BYTE(w); 
  35   1              LCM_CS_HI;
  36   1      }
  37          
  38          void LCD_Nand2DataMode(void)
  39          {
  40   1              //for 023Only
  41   1              gc_strobe_bak = XBYTE[0xB421];
  42   1              gc_0xB400_bak = XBYTE[0xB400];  
  43   1              XBYTE[0xB400] =0x01;            //switch to NAND 
  44   1              FLASH_REG[0x00] = 0x00;         //disable nand auto 
  45   1              DMA_REG[0x01] = 0x20;           //Sram to Flash         
  46   1              XBYTE[0xB421]=gc_LCMStobe;   //XBYTE[0xB421] = D_LCM_Strobe;    //strobe = 1T 1T
  47   1      
  48   1              LCM_A0_HI; //OLED_A0=1;
  49   1              LCM_CS_LO; //OLED_CS=0;
  50   1      }
  51          
  52          void LCD_Data2NandMode(void)
  53          {
  54   1              LCM_CS_HI; //OLED_CS=1; 
C51 COMPILER V9.00   LCM_DRIVER                                                            07/10/2012 15:51:58 PAGE 2   

  55   1              //for 023Only
  56   1              XBYTE[0xB421] = gc_strobe_bak;
  57   1              FLASH_REG[0x00] = 0x01;
  58   1              XBYTE[0xB400]=gc_0xB400_bak;
  59   1      }
  60          
  61          
  62          
  63          #ifdef LD5414C
              #include "..\LCM\LD5414\LD5414_driver.c"        
              #elif defined SL9163    
              #include "..\LCM\SL9163\SL9163_driver.c"
              #elif defined S6D0134
              #include "..\LCM\S6D0134\S6D0134_driver.c"
              #elif defined TM7735    
  70          #include "..\LCM\TM7735\TM7735_driver.c"        
  71          
  72          #elif defined SL8210    
              #include "..\LCM\SL8210\SL8210_driver.c"                
              #endif
  75          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    346    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1      11
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
