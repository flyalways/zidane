C51 COMPILER V7.10   LCM_DRIVER                                                            03/02/2011 09:21:41 PAGE 1   


C51 COMPILER V7.10, COMPILATION OF MODULE LCM_DRIVER
OBJECT MODULE PLACED IN .\obj\LCM_driver.obj
COMPILER INVOKED BY: F:\Keil C 7.10\chengxu\C51\BIN\C51.EXE LCM\LCM_driver.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDI
                    -R(..\libsource\header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\LCM_driver.lst) OBJECT(.\obj\LCM_driver.obj)

line level    source

   1          #include "SPDA2K.h"
   2          #include "dos\fs_struct.h"
   3          #include "Memalloc.h"
   4          #include "..\LCM\model_define.h"
   5          #include "..\LCM\LCM.h"
   6          #include "..\LCM\LCM_func.h"
   7          #include "..\LCM\TFT_config.h"          // TFT 20090629
   8          
   9          extern  xdata U8        gc_strobe_bak;
  10          extern xdata U8         gc_0xB400_bak;
  11          //xdata U8      gc_LCMStobe=0x13; 
  12          xdata U8        gc_LCMStobe=0xee; 
  13          void LCD_Write_Command(U8 tc_Data)
  14          {
  15   1              LCM_A0_LO; 
  16   1              LCM_CS_LO; 
  17   1              XBYTE[0xB420] = tc_Data; 
  18   1              LCM_CS_HI; 
  19   1      }
  20          
  21          void LCD_Write_OneData(U8 tc_Data)  
  22          {
  23   1              LCM_A0_HI;
  24   1              LCM_CS_LO; 
  25   1              XBYTE[0xB420] = tc_Data; 
  26   1      
  27   1              LCM_CS_HI;
  28   1      }
  29          
  30          void LCD_Write_OneWord(U16 w)
  31          {
  32   1              LCM_A0_HI;
  33   1              LCM_CS_LO; 
  34   1              XBYTE[0xB420] = WORD_HI_BYTE(w); 
  35   1              XBYTE[0xB420] = WORD_LO_BYTE(w); 
  36   1              LCM_CS_HI;
  37   1      }
  38          
  39          void LCD_Nand2DataMode(void)
  40          {
  41   1              //for 023Only
  42   1              gc_strobe_bak = XBYTE[0xB421];
  43   1              gc_0xB400_bak = XBYTE[0xB400];  
  44   1              XBYTE[0xB400] =0x01;            //switch to NAND 
  45   1              FLASH_REG[0x00] = 0x00;         //disable nand auto 
  46   1              DMA_REG[0x01] = 0x20;           //Sram to Flash         
  47   1              XBYTE[0xB421]=gc_LCMStobe;   //XBYTE[0xB421] = D_LCM_Strobe;    //strobe = 1T 1T
  48   1      
  49   1              LCM_A0_HI; //OLED_A0=1;
  50   1              LCM_CS_LO; //OLED_CS=0;
  51   1      }
  52          
  53          void LCD_Data2NandMode(void)
  54          {
C51 COMPILER V7.10   LCM_DRIVER                                                            03/02/2011 09:21:41 PAGE 2   

  55   1              LCM_CS_HI; //OLED_CS=1; 
  56   1              //for 023Only
  57   1              XBYTE[0xB421] = gc_strobe_bak;
  58   1              FLASH_REG[0x00] = 0x01;
  59   1              XBYTE[0xB400]=gc_0xB400_bak;
  60   1      }
  61          
  62          
  63          
  64          #ifdef LD5414C
              #include "..\LCM\LD5414\LD5414_driver.c"
              #elif defined S6D0134
              #include "..\LCM\S6D0134\S6D0134_driver.c"      
              #elif defined S6D0133
              #include "..\LCM\S6D0133\S6D0133_driver.c"
              #elif defined LZ7669    
              #include "..\LCM\LZ7669\LZ7669_driver.c"
              #elif defined CS1783    
              #include "..\LCM\CS1783_18H\CS1783_driver.c"
              #elif defined SL9163    
              #include "..\LCM\SL9163\SL9163_driver.c"
              #elif defined SL8210    
              #include "..\LCM\SL8210\SL8210_driver.c"        
              #elif defined S6B33BC   
              #include "..\LCM\S6B33BC\S6B33BC_driver.c"
              #elif defined S6B33B9   
              #include "..\LCM\S6B33B9\S6B33B9_driver.c"
              #elif defined HD66766   
  83          #include "..\LCM\HD66766\HD66766_driver.c"
*** WARNING C280 IN LINE 4 OF LCM\..\LCM\HD66766\HD66766_DRIVER.C: 'mirrored_y_start': unreferenced local variable
*** WARNING C280 IN LINE 4 OF LCM\..\LCM\HD66766\HD66766_DRIVER.C: 'mirrored_y_end': unreferenced local variable
*** WARNING C280 IN LINE 5 OF LCM\..\LCM\HD66766\HD66766_DRIVER.C: 'tc_Dir': unreferenced local variable
  84          
  85          #elif defined HD66773R  
              #include "..\LCM\HD66773R\HD66773R_driver.c"
              #elif defined ST7735R   
              #include "..\LCM\ST7735R\ST7735R_driver.c"
              #elif defined S6B33B9_New       
              #include "..\LCM\S6B33B9_New\S6B33B9_New_driver.c"
              #elif defined S6B33BF   
              #include "..\LCM\S6B33BF\S6B33BF_driver.c"
              #endif
  94          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    278    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1      11
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  3 WARNING(S),  0 ERROR(S)
