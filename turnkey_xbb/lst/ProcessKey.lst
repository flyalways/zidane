C51 COMPILER V7.10   PROCESSKEY                                                            02/28/2011 10:30:35 PAGE 1   


C51 COMPILER V7.10, COMPILATION OF MODULE PROCESSKEY
OBJECT MODULE PLACED IN .\obj\ProcessKey.obj
COMPILER INVOKED BY: F:\Keil C 7.10\chengxu\C51\BIN\C51.EXE Key\ProcessKey.c LARGE OPTIMIZE(9,SIZE) BROWSE NOAREGS INCDI
                    -R(..\libsource\header) DEFINE(K_ICTYPE=0x03) DEBUG OBJECTEXTEND PRINT(.\lst\ProcessKey.lst) OBJECT(.\obj\ProcessKey.obj)

line level    source

   1          #include "SPDA2K.h"
   2          #include "dos\fs_struct.h"
   3          #include "Memalloc.h"
   4          #include "..\header\variables.h"
   5          
   6          extern xdata System_Struct gs_System_State;
   7          
   8          extern UBYTE code PlayTask_PhaseTab[];
   9          extern UBYTE code JpegTask_PhaseTab[];
  10          extern UBYTE code MjpegTask_PhaseTab[];
  11          extern   void  MediaChange(void);
  12          
  13          void ProcKey_in_play(void)
  14          {
  15   1              if(gw_IR_Timer)  
  16   1              {
  17   2                      gc_KeyEvent=0;
  18   2                      return; 
  19   2              }
  20   1      
  21   1              if((gs_System_State.c_Phase == TASK_PHASE_PAUSE) && ((gc_KeyEvent!=0x02) && (gc_KeyEvent!=0x12)) && (gc_T
             -ask_Current!=C_Task_Setting))  //20090107 chiayen  modify  
  22   1              {
  23   2                      gc_KeyEvent=0;
  24   2                      return;
  25   2              }
  26   1              if((gs_System_State.c_Phase == TASK_PHASE_PLAYACT) && ((gc_KeyEvent==0x16))) 
  27   1          { 
  28   2               MediaChange();
  29   2               return; 
  30   2          } 
  31   1              
  32   1              if(gs_System_State.c_Phase==TASK_PHASE_STOP)  
  33   1              {
  34   2                      if(gc_KeyEvent==0x23 || gc_KeyEvent==0x24 || gc_KeyEvent==0x13 || gc_KeyEvent==0x14)
  35   2                      {
  36   3                              return; 
  37   3                      }
  38   2                      if(gc_KeyEvent==0x25 || gc_KeyEvent==0x26 || gc_KeyEvent==0x22)
  39   2                      {
  40   3                              gc_KeyEvent=0;
  41   3                              return;
  42   3                      }
  43   2              }
  44   1              gc_PhaseInx=PlayTask_PhaseTab[gc_KeyEvent];
  45   1              if((gc_PhaseInx==C_PlayNext)||(gc_PhaseInx==C_PlayPrev))
  46   1              {
  47   2                      gw_FileSkipNumber = 0;
  48   2              }
  49   1              gc_Dirchange_Timer=0;  //20090216 chiayen add
  50   1              gc_KeyEvent=0;
  51   1      }
  52          
  53          
C51 COMPILER V7.10   PROCESSKEY                                                            02/28/2011 10:30:35 PAGE 2   

  54          void ProcKey_in_jpeg(void)
  55          {
  56   1              gc_PhaseInx=JpegTask_PhaseTab[gc_KeyEvent];
  57   1              gc_KeyEvent=0;
  58   1      }
  59          
  60          
  61          void ProcKey_in_mjpeg(void)
  62          {
  63   1              gc_PhaseInx=MjpegTask_PhaseTab[gc_KeyEvent];
  64   1              if((gc_PhaseInx==C_MjpegNext)||(gc_PhaseInx==C_MjpegPrev))
  65   1              {
  66   2                      gw_FileSkipNumber = 0;
  67   2              }
  68   1              gc_KeyEvent=0;
  69   1      }
  70          
  71          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    182    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
